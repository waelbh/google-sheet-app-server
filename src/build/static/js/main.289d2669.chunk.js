(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{153:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var r=n(33),a=n.n(r),c=(n(151),n(20)),s=n.n(c),i=n(47),o=n(73),u=n(0),l=n(199),d=(n(153),n(192)),p=n(198),h=n(196),j=n(6),b=function(e){var t=e.handleConnectApi;return Object(j.jsxs)(d.a,{className:"content",children:[Object(j.jsx)(p.a,{inverted:!0,as:"h1",children:"Explore your google sheets"}),Object(j.jsx)("p",{children:"Google sheets app will explore and handle Data deduplication on your spreadsheets, First we need your google Authentification and Authorization and you're ready to go!"}),Object(j.jsxs)(h.a,{size:"huge",onClick:t,children:[Object(j.jsx)("img",{width:"20px",alt:"Google sign-in",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"}),Object(j.jsx)("span",{style:{padding:"15px"},children:"Connect API"})]})]})},f=function(){return Object(j.jsxs)(l.a,{inverted:!0,vertical:!0,as:"footer",children:[Object(j.jsx)("a",{href:"https://github.com/semantic-ui-forest",target:"_blank",rel:"noopener noreferrer",children:"Github repository"}),"."]})},x=n(194),O=function(e){var t=e.connected,n=e.handleLogOut;return Object(j.jsxs)(d.a,{as:"nav",children:[Object(j.jsx)(p.a,{inverted:!0,as:"h1",children:"Google Sheet App"}),Object(j.jsx)(x.a,{borderless:!0,compact:!0,inverted:!0,children:t&&Object(j.jsx)(h.a,{size:"huge",onClick:n,children:Object(j.jsx)("span",{style:{padding:"15px"},children:"Logout"})})})]})},v=n(195),g=n(193),m=function(e){var t=e.options,n=e.handleDeduplicateAction,r=Object(u.useState)(""),a=Object(o.a)(r,2),c=a[0],s=a[1];return Object(j.jsxs)(d.a,{className:"content",children:[Object(j.jsx)(p.a,{inverted:!0,as:"h2",children:"Select spreadsheets to deduplicate their Data"}),Object(j.jsx)("div",{children:Object(j.jsxs)(v.a,{size:"massive",children:[Object(j.jsx)(v.a.Field,{control:g.a,options:t,label:{htmlFor:"form-select-control-spreadsheets"},placeholder:"Spreadsheets",search:!0,searchInput:{id:"form-select-control-spreadsheets"},onChange:function(e,t){var n=t.value;s(n)}}),Object(j.jsx)(h.a,{type:"submit",size:"huge",disabled:!c,onClick:function(e){n(e,c)},children:"Deduplicate"})]})})]})},w="auth_token",y=n(134),k=n(108),C=n.n(k),A=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/auth/google/url",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/sheets/list",{withCredentials:!0});case 2:return t=e.sent,e.next=5,t.data;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/sheets/deduplication_updater?id=".concat(t),{withCredentials:!0});case 3:return n=e.sent,e.next=6,n.data;case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),n=!1;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),G=n(114),D=(n(179),function(e){var t=e.notificationStatus;return Object(u.useEffect)((function(){t.display&&Object(G.b)(t.text)}),[t]),Object(j.jsx)(G.a,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,bodyStyle:{color:"black",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",fontSize:"16px",lineHeight:"1.6"}})}),_=new y.a,z=function(){var e=Object(u.useState)(!!_.get(w)),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(u.useState)([]),c=Object(o.a)(a,2),d=c[0],p=c[1],h=Object(u.useState)({display:!1,text:""}),x=Object(o.a)(h,2),v=x[0],g=x[1];Object(u.useEffect)((function(){n&&function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){var t=e.data.files.map((function(e){return{text:e.name,value:e.id}}));p(t),g({display:!0,text:"Access has been granted"})}))}),[n]);var y=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,g({display:!0,text:"You will be transferred safely to google authentication"}),setTimeout((function(){window.location.replace(t)}),2e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,F(n);case 3:200===(null===(r=e.sent)||void 0===r?void 0:r.status)?g({display:!0,text:"The spreadsheet has been deduped"}):r||g({display:!0,text:"Deduplication failed, check the existence of tab A,B,C "});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(l.a,{inverted:!0,vertical:!0,textAlign:"center",children:[n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{connected:n,handleLogOut:function(){_.remove(w),r(!1)}}),Object(j.jsx)(m,{options:d,handleDeduplicateAction:k})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{connected:n}),Object(j.jsx)(b,{handleConnectApi:y})]}),Object(j.jsx)(f,{}),Object(j.jsx)(D,{notificationStatus:v})]})})};a.a.render(Object(j.jsx)(z,{}),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.289d2669.chunk.js.map